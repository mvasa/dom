
(function(){'use strict';$.widget("vui.vui_accordion",{options:{},_create:function(){var me=this;var $accordion=$(this.element);var displayMode=$accordion.attr('data-display-mode');if(displayMode!=='stacked'){displayMode='accordion';}
this.option('displayMode',displayMode);$accordion.attr('role','tablist').attr('aria-multiselectable',displayMode!=='accordion');$.each($accordion.find('.vui-accordion-header'),function(index,headerNode){me._initializePanel($accordion,$(headerNode),(index===0));});},_destroy:function(){var $accordion=$(this.element);$accordion.removeAttr('role').removeAttr('aria-multiselectable');$.each($accordion.find('.vui-accordion-toggle'),function(index,toggleNode){$(toggleNode).remove();});$.each($accordion.find('.vui-accordion-header'),function(index,headerNode){$(headerNode).removeAttr('role').removeAttr('aria-controls').removeAttr('aria-expanded').removeAttr('aria-selected').removeAttr('tabindex').removeClass('vui-accordion-header-active').removeClass('vui-accordion-header-interactive').unbind('click').unbind('focus').unbind('blur').unbind('keydown').unbind('keyup');});$.each($accordion.find('.vui-accordion-content'),function(index,contentNode){var $content=$(contentNode);$content.removeAttr('role').removeAttr('aria-labelledby').removeAttr('aria-hidden').removeClass('vui-accordion-content-active');if($content.data('hasGeneratedId')){$content.removeAttr('id');}});},_setOption:function(key,value){if(key==='displayMode'){if(value==='stacked'){value='stacked';}else{value='accordion';}
$(this.element).attr('data-display-mode',value);}
$.Widget.prototype._setOption.apply(this,arguments);},collapseAll:function(){var me=this;$.each($(this.element).find('.vui-accordion-header'),function(index,headerNode){me._collapsePanel($(headerNode));});},_collapsePanel:function($header){if(!$header.hasClass('vui-accordion-panel-expanded')){return;}
$(this.element).trigger('collapsePanel',{header:$header.get(0)});$header.attr('aria-expanded','false').removeClass('vui-accordion-panel-expanded');this._updateIcon($header,false);var contentId=$header.attr('data-content-id');var contentNode=document.getElementById(contentId);if(contentNode===null){return;}
$(contentNode).attr('aria-hidden','true').attr('visibility','hidden').slideUp(250,'swing');},_expandPanel:function($header){var $accordion=$(this.element);if(this.option('displayMode')==='accordion'){$accordion.vui_accordion('collapseAll');}
$accordion.trigger('expandPanel',{header:$header.get(0),isFirstExpand:!$header.data('hasExpanded')});$header.attr('aria-expanded','true').addClass('vui-accordion-panel-expanded').data('hasExpanded',true);this._updateIcon($header,true);var contentId=$header.attr('data-content-id');var contentNode=document.getElementById(contentId);if(contentNode===null){return;}
$(contentNode).attr('aria-hidden','false').attr('visibility','visibile').slideDown(250,'swing');},_initializePanel:function($accordion,$header,isFocusable){var me=this;var $content=me._tryGetContent($header);if($content===null){return;}
var contentId=$header.attr('data-content-id');var isExpanded=($header.attr('data-expanded')==='true')&&!$content.is(':empty');var labelledById=$header.attr('data-content-labelledby');var $headerContent=$header.find('.vui-accordion-header-content:first-child');var isHeaderInteractive=($headerContent.length!==0);var togglePanel=function(){if($header.hasClass('vui-accordion-panel-expanded')){me._collapsePanel($header);}else{me._expandPanel($header);}};var isEnabled=!$content.is(':empty');if(!isExpanded){$content.attr('visibility','hidden');}
if(isHeaderInteractive){$header.addClass('vui-accordion-header-interactive');var toggle=document.createElement('div');toggle.className='vui-accordion-toggle';var toggleIcon=toggle.appendChild(document.createElement('div'));if(isExpanded){toggleIcon.className='vui-accordion-toggle-icon vui-icon-accordion-expanded';}else{toggleIcon.className='vui-accordion-toggle-icon vui-icon-accordion-collapsed';}
$header.prepend(toggle);}
$header.attr('role','tab').attr('aria-controls',contentId).attr('aria-expanded',isExpanded).attr('aria-selected',isFocusable?'true':'false').attr('tabindex',isFocusable?'0':'-1').css('padding',isHeaderInteractive?'0':'auto').data('hasExpanded',isExpanded).removeAttr('data-expanded').click(function(e){if(!isEnabled){return;}
var eventTarget=e.target;while(eventTarget!==$header.get(0)&&eventTarget!==null){if(eventTarget===$headerContent.get(0)||$(eventTarget).is(':focusable')){return;}
eventTarget=eventTarget.parentNode;}
togglePanel();}).focus(function(){$header.addClass('vui-accordion-header-active');$content.addClass('vui-accordion-content-active');}).blur(function(){$header.removeClass('vui-accordion-header-active');$content.removeClass('vui-accordion-content-active');}).keydown(function(e){if(e.keyCode>=35&&e.keyCode<=40||e.keyCode==32){e.preventDefault();return false;}
return true;}).keyup(function(e){if(e.keyCode===13||e.keyCode===32){if(!isEnabled){return;}
togglePanel();}else if(e.keyCode===39||e.keyCode===40){me._focusPanel($header,me._tryGetNextPanel($header));}else if(e.keyCode===37||e.keyCode===38){me._focusPanel($header,me._tryGetPreviousPanel($header));}else if(e.keyCode===35){me._focusPanel($header,me._getLastPanelHeader());}else if(e.keyCode===36){me._focusPanel($header,me._getFirstPanelHeader());}});if(!isEnabled){$header.attr('aria-disabled','true').addClass('vui-accordion-header-disabled');}
$content.attr('role','tabpanel').attr('aria-labelledby',labelledById).attr('aria-hidden','true');if(isExpanded){if(this.option('displayMode')==='accordion'){$.each($accordion.find('.vui-accordion-panel-expanded'),function(index,panelNode){me._collapsePanel($(panelNode));});}
$header.addClass('vui-accordion-panel-expanded');setTimeout(function(){$accordion.trigger('expandPanel',{header:$header.get(0),isFirstExpand:true});},0);$content.attr('aria-hidden','false').show();}},_focusPanel:function($currentHeader,$header){if($header===null){return;}
$currentHeader.attr('tabindex','-1').attr('aria-selected','false');$header.attr('tabindex','0').attr('aria-selected','true').focus();},_getFirstPanelHeader:function(){var $headers=$(this.element).find('.vui-accordion-header');return $($headers[0]);},_getLastPanelHeader:function(){var $headers=$(this.element).find('.vui-accordion-header');return $($headers[$headers.length-1]);},_tryGetContent:function($header){var contentId=$header.attr('data-content-id');if(contentId!==undefined){var contentNode=document.getElementById(contentId);if(contentNode!==null){return $(contentNode);}else{return null;}}
var $nextElement=$header.next('.vui-accordion-content');if($nextElement.length!==0){contentId=$nextElement.attr('id');if(contentId===undefined){$nextElement.uniqueId().data('hasGeneratedId',true);contentId=$nextElement.attr('id');}
$header.attr('data-content-id',contentId);return $nextElement;}
return null;},_tryGetPreviousPanel:function($header){var $previousElement=$header.prev();if($previousElement.length===0){return this._getLastPanelHeader();}else if($previousElement.hasClass('vui-accordion-header')){return $previousElement;}else{return this._tryGetPreviousPanel($previousElement);}},_tryGetNextPanel:function($header){var $nextElement=$header.next();if($nextElement.length===0){return this._getFirstPanelHeader();}else if($nextElement.hasClass('vui-accordion-header')){return $nextElement;}else{return this._tryGetNextPanel($nextElement);}},_updateIcon:function($header,isExpanded){var toggleIcon=$header.find('.vui-accordion-toggle-icon');if(toggleIcon.length>0){if(isExpanded){toggleIcon.addClass('vui-icon-accordion-expanded');toggleIcon.removeClass('vui-icon-accordion-collapsed');}else{toggleIcon.addClass('vui-icon-accordion-collapsed');toggleIcon.removeClass('vui-icon-accordion-expanded');}}}});})();(function(){'use strict';$.widget('vui.vui_changeTracker',{options:{showChanges:true},_create:function(){var me=this;var showChangesAttr=this.element.attr('data-show-changes');if(showChangesAttr==='false'){this.options.showChanges=false;}
this.element.data('changedItems',{}).on('vui-change',function(e){var id=$(e.target).attr('id');if(!id){return;}
me.element.data('changedItems')[id]=true;if(!me._isTrackingEnabled()){return;}
if(me.options.showChanges&&!e.isChangeShown){me.element.addClass('vui-changed');e.isChangeShown=true;}}).on('vui-restore',function(e){var id=$(e.target).attr('id');if(!id){return;}
var changedItems=me.element.data('changedItems');if(changedItems[id]!==undefined){delete changedItems[id];}
if(!me._isTrackingEnabled()){return;}
if(me.options.showChanges&&Object.keys(changedItems).length===0){me.element.removeClass('vui-changed');}});},_destroy:function(){$(this.element).removeClass('vui-changed').off('vui-change vui-restore');},_isTrackingEnabled:function(){var closest=this.element.closest('[data-track-changes]');if(closest.length===1){return closest.attr('data-track-changes')==='true';}
return false;},containsChanges:function(){return(Object.keys(this.element.data('changedItems')).length>0);},hasElementChanged:function(elem){var id=$(elem).attr('id');if(!id){return false;}
var hasChanged=(this.element.data('changedItems')[id]===true);return hasChanged;},isChangeShown:function(){return this.element.hasClass('vui-changed');}});})();(function(){'use strict';$.widget('vui.vui_changeTracking',{_create:function(){var nodeName=this.element.prop('nodeName');var me=this;if(nodeName==='INPUT'&&this.element.attr('type')==='radio'){var groupName=this.element.prop('name');if(groupName){var selected=$('input[name="'+groupName+'"]:checked');selected.uniqueId();this.element.data('selectedId',selected.attr('id'));}}
var evtData={me:me};$(document).on('vui-reset',evtData,this._handleReset);this.element.uniqueId().data('originalValue',me._getValue(me.element)).data('hasChanged',false).on('change.vui',evtData,this._handleChange);},_destroy:function(){if(this.hasChanged()){this.element.trigger('vui-restore');}
$(document).off('vui-reset',this._handleReset);this.element.off('change.vui').removeUniqueId();},_getValue:function($node){var node=$node.get(0);var nodeName=$node.prop('nodeName');if(nodeName==='SELECT'){return $node.val();}
if(nodeName==='INPUT'){var inputType=$node.attr('type');if(inputType==='checkbox'||inputType==='radio'){return node.checked;}}
return node.value;},_handleChange:function(evt){var me=evt.data.me;var $node=me.element;var node=$node.get(0);var nodeName=$node.prop('nodeName');var selectedId=$node.data('selectedId');var id=$node.attr('id');if(nodeName==='INPUT'&&$node.attr('type')==='radio'){var groupName=$node.prop('name');if(groupName){$('input[name="'+groupName+'"]').each(function(i){var $this=$(this);if(this!==node&&$this.attr('id')===selectedId){me._triggerEvent($this);}
$this.data('selectedId',id);});}}
me._triggerEvent($node);},_handleReset:function(evt){var me=evt.data.me;var isParentTracker=(me.element.closest(evt.target).length>0);if(!isParentTracker||!me.hasChanged()){return;}
me.element.data('originalValue',me._getValue(me.element)).data('hasChanged',false).trigger('vui-restore');},_triggerEvent:function($target){var hasChanged=this._getValue($target)!==$target.data('originalValue');$target.data('hasChanged',hasChanged).trigger(hasChanged?'vui-change':'vui-restore');},hasChanged:function(){return $(this.element).data('hasChanged');}});})();(function(){'use strict';var classNames={changed:'vui-heading-collapsible-changed',target:'vui-heading-collapsible-target',transition:'vui-heading-collapsible-transition'};var transitionEnd='transitionend.vui webkitTransitionEnd.vui';var finishTransition=function(evt,force){var hasTransitions='transition'in document.body.style||'webkitTransition'in document.body.style||'MozTransition'in document.body.style;if(!hasTransitions||force){evt.originalEvent={propertyName:'height'};evt.data.me._handleTransitionEnd(evt);}};$.widget('vui.vui_collapsibleSection',{_create:function(){var me=this;var targetInfo=this._getTargetInfo();if(targetInfo===null){return;}
this._createAnchor();var evtData={me:this,inProgress:false,isHover:false,scrollTimeout:null};this.element.on('vui-collapse',evtData,this._handleCollapse).on('vui-expand',evtData,this._handleExpand).on('click.vui',evtData,this._handleClick).on('mouseover.vui',evtData,this._handleHover).on('mouseout.vui',evtData,this._handleBlur);this.anchor.attr('aria-controls',targetInfo.id).attr('aria-expanded',targetInfo.isVisible?'true':'false').on('focus',evtData,this._handleHover).on('blur',evtData,this._handleBlur);this.icon.attr('class',targetInfo.isVisible?'vui-heading-collapsible-icon-collapse':'vui-heading-collapsible-icon-expand');this.target.vui_changeTracker().addClass(classNames.target).attr('aria-hidden',targetInfo.isVisible?'false':'true').css('display',targetInfo.isVisible?'block':'none').on(transitionEnd,evtData,this._handleTransitionEnd).on('vui-expand',evtData,this._handleExpand).on('vui-change vui-restore',function(){me.anchor.toggleClass(classNames.changed,$(this).vui_changeTracker('containsChanges'));});},_destroy:function(){this.element.off('vui-collapse vui-expand click.vui mouseover.vui mouseout.vui vui-collapsibleSection-done');this.icon.remove();this.anchor.contents().unwrap();this.target.removeClass(classNames.target+' '+classNames.transition).off(transitionEnd+' vui-expand vui-change vui-restore').removeAttr('aria-hidden').removeData('height');},_createAnchor:function(){this.element.contents().wrapAll('<a href="javascript:void(0);"></a>');this.anchor=this.element.find('a');this.icon=$('<span></span>');this.anchor.append(this.icon);},_getTargetInfo:function(){var targetId=this.element.attr('data-target');if(targetId===undefined){return null;}
var target=document.getElementById(targetId);if(target===null){return null;}
this.target=$(target);var targetInfo={id:targetId,isVisible:this.target.is(":visible")};if(!targetInfo.isVisible){this.target.css({position:'absolute',visibility:'hidden',display:'block'});}
this.target.data('height',this.target.outerHeight(false));if(!targetInfo.isVisible){this.target.css({position:'static',visibility:'visible',display:'none'});}
return targetInfo;},_handleBlur:function(evt){evt.data.isHover=false;var isCollapsed=evt.data.me.target.attr('aria-hidden')=='true';evt.data.me.icon.attr('class',isCollapsed?'vui-heading-collapsible-icon-expand':'vui-heading-collapsible-icon-collapse');},_handleClick:function(evt){var isCollapsed=evt.data.me.target.attr('aria-hidden')=='true';$(this).trigger(isCollapsed?'vui-expand':'vui-collapse');},_handleCollapse:function(evt){if(evt.data.inProgress){return;}
evt.data.inProgress=true;evt.data.me.icon.attr('class',evt.data.isHover?'vui-heading-collapsible-icon-expand-h':'vui-heading-collapsible-icon-expand');evt.data.me.anchor.attr('aria-expanded',false);var forceTransition=false;var targetIsVisible=evt.data.me.target.is(":visible");if(targetIsVisible){var targetHeight=evt.data.me.target.outerHeight(false);evt.data.me.target.data('height',targetHeight).css('height',targetHeight+'px');}else{forceTransition=true;}
setTimeout(function(){if(!evt.data){return;}
if(!forceTransition){forceTransition=evt.data.me.target.data('height')===0;}
evt.data.me.target.addClass(classNames.transition).attr('aria-hidden',true).css('height','');finishTransition(evt,forceTransition);},50);},_handleExpand:function(evt){if(evt.data.inProgress){return;}
evt.data.inProgress=true;evt.data.me.icon.attr('class',evt.data.isHover?'vui-heading-collapsible-icon-collapse-h':'vui-heading-collapsible-icon-collapse');evt.data.me.anchor.attr('aria-expanded',true);evt.data.me.target.css('display','block');setTimeout(function(){if(!evt.data){return;}
var force=evt.data.me.target.height()==evt.data.me.target.data('height');evt.data.me.target.addClass(classNames.transition).attr('aria-hidden',false).css({'height':evt.data.me.target.data('height')+'px'});evt.data.me._scroll(evt.data,true);finishTransition(evt,force);},50);},_handleHover:function(evt){evt.data.isHover=true;var isCollapsed=evt.data.me.target.attr('aria-hidden')=='true';evt.data.me.icon.attr('class',isCollapsed?'vui-heading-collapsible-icon-expand-h':'vui-heading-collapsible-icon-collapse-h');},_handleTransitionEnd:function(evt){if(!evt||!evt.originalEvent||evt.originalEvent.propertyName!='height'){return;}
evt.data.inProgress=false;evt.data.me.target.removeClass(classNames.transition);var isCollapsed=evt.data.me.target.attr('aria-hidden')=='true';if(isCollapsed){evt.data.me.target.css('display','none');}else{evt.data.me.target.css('height','');evt.data.me._scroll(evt.data,false);}
evt.data.me.element.trigger('vui-collapsibleSection-done');},_scroll:function(data,keepScrolling){clearTimeout(data.scrollTimeout);data.scrollTimeout=null;var targetBottom=data.me.target.offset().top+
data.me.target.height()+50;var scrollTop=$(window).scrollTop();var windowBottom=scrollTop+$(window).height();var diff=targetBottom-windowBottom;if(diff>0){window.scrollTo(0,scrollTop+diff);}
if(keepScrolling){data.scrollTimeout=setTimeout(function(){data.me._scroll(data,true);},10);}}});})();(function(){'use strict';$.widget("vui.vui_moreless",{options:{height:'4em',lineHeight:'normal',title:{more:"more",less:"less"},color:'#FAFAFA'},_$moreblur:null,_$moreless:null,_$morelink:null,pollingVariable:null,_accessibileButton:function(title,iconClass){var me=this;me._$morelink.empty();me._$morelink.append('<span class="'+iconClass+'">');if(!this.options.accessible){me._$morelink.attr('aria-hidden','true');me._$morelink.append(title);}else{me._$morelink.attr('aria-role','button');title=$('<span>'+title+'</span>');me._$morelink.append(title);}},_create:function(){var me=this;me._$moreless=$(this.element);me._$morelink=$('<div class="vui-moreless-link" tabindex="0">');me._$moreless.after(me._$morelink);me.options.title.more=me._$moreless.attr('data-moreless-moretitle')!==undefined?me._$moreless.attr('data-moreless-moretitle'):me.options.title.more;me.options.title.less=me._$moreless.attr('data-moreless-lesstitle')!==undefined?me._$moreless.attr('data-moreless-lesstitle'):me.options.title.less;me.options.accessible=me._$moreless.attr('data-moreless-accessible')!==undefined&&me._$moreless.attr('data-moreless-accessible')!=="False"?true:false;me.options.color=me._$moreless.attr('data-moreless-blurcolor')!==undefined?me._$moreless.attr('data-moreless-blurcolor'):me.options.color;var lineHeight=me._$moreless.attr('data-moreless-lineHeight')!==undefined?me._$moreless.attr('data-moreless-lineHeight'):me.options.lineHeight;me._$moreless.css('line-height',lineHeight);var $breakafter=me._$moreless.find('.vui-moreless-breakafter');var height=0;if($breakafter.length){$breakafter=$($breakafter[0]);height=($breakafter.position().top-me._$moreless.position().top)+$breakafter.get(0).scrollHeight;}else{height=me._$moreless.attr('data-moreless-height')!==undefined?me._$moreless.attr('data-moreless-height'):me.options.height;if(height.indexOf('%')>-1){height=parseInt((me._$moreless.get(0).scrollHeight*(parseInt(height,10)/100))+0.5,10);}
me._$moreblur=$('<div class="vui-moreless-blur">');me.BlurColor(me.options.color);me._$moreless.after(me._$moreblur);}
me._$moreless.height(height);me._accessibileButton(me.options.title.more,'vui-icon-moreless-chevron-down');me._$morelink.on('click',function(e){me._switchMoreLess(height);});me._$morelink.on('keypress',function(e){var keyCode=e.keyCode||e.which;if(keyCode===13){me._switchMoreLess(height);}});var isTab=false;$(document).keydown(function(e){var keyCode=e.keyCode||e.which;if(keyCode===9){isTab=true;}else{isTab=false;}});me._$moreless.focusin(function(event){if(!me._$moreless.hasClass('vui-moreless-more')&&isTab){me._$moreless.get(0).scrollTop=0;me._$morelink.focus();isTab=false;}});var moreLessHeight=parseInt(height,10);me._startPolling(125,moreLessHeight);},_hexToRgb:function(inHex){if(inHex.indexOf('#')>-1){inHex=inHex.substring(1);}
if(inHex.length===3){var shorthandRegex=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;inHex=inHex.replace(shorthandRegex,function(m,r,g,b){return r+r+g+g+b+b;});}
var bigint=parseInt(inHex,16);var r=(bigint>>16)&255;var g=(bigint>>8)&255;var b=bigint&255;return{red:r,green:g,blue:b};},_startPolling:function(timeout,morelessHeight){var me=this;me._fixMoreLess(morelessHeight);me.pollingVariable=setTimeout(function(){me._startPolling(timeout<10000?timeout*2:timeout,morelessHeight);},timeout);},_fixMoreLess:function(morelessHeight){var me=this;if(me._$moreless.hasClass('vui-moreless-more')){return;}
me._hideShowMore(morelessHeight);me._showShowMore(morelessHeight);},_hideShowMore:function(morelessHeight){var me=this;var scrollHeight=me._$moreless.get(0).scrollHeight;var childrenHeight=me._$moreless.children().height();var h=scrollHeight==morelessHeight?childrenHeight:scrollHeight;if(me._$moreless&&h<morelessHeight){me._$moreless.height(h);me._$morelink.css('display','none');if(me._$moreblur){me._$moreblur.css('display','none');}}else if(me._$moreless&&h!=me._$moreless.height()){me._$moreless.height(h);}},_showShowMore:function(morelessHeight){var me=this;var scrollHeight=me._$moreless.get(0).scrollHeight;var childrenHeight=me._$moreless.children().height();var h=scrollHeight==morelessHeight?childrenHeight:scrollHeight;if(me._$moreless&&h>=morelessHeight){me._$moreless.height(morelessHeight);me._$morelink.css('display','inherit');if(me._$moreblur){me._$moreblur.css('display','inherit');}}},_switchMoreLess:function(inHeight){var me=this;if(!me._$moreless.hasClass('vui-moreless-transition-effect')){me._$moreless.addClass('vui-moreless-transition-effect');}
if(me._$moreless.hasClass('vui-moreless-more')){me._$moreless.removeClass('vui-moreless-more');if(me._$moreblur){me._$moreblur.css('display','block');}
me._$moreless.css('height',inHeight);me._accessibileButton(me.options.title.more,'vui-icon-moreless-chevron-down');me._$moreless.trigger('vui-moreless-collapse');}else{me._$moreless.addClass('vui-moreless-more');if(me._$moreblur){me._$moreblur.css('display','none');}
me._$moreless.css('height',me._$moreless.get(0).scrollHeight);me._accessibileButton(this.options.title.less,'vui-icon-moreless-chevron-up');me._$moreless.trigger('vui-moreless-expand');}},_destroy:function(){var me=this;if(me.pollingVariable!==null){clearInterval(me.pollingVariable);}
me.pollingVariable=false;},BlurColor:function(inColor){var me=this;if(me._$moreblur!==null){var rgba0='rgba( 250, 250, 250, 0)';var rgba1='rgba( 250, 250, 250, 1)';if(inColor.indexOf('#')>-1){var rgb=me._hexToRgb(inColor);rgba0='rgba('+rgb.red+','+rgb.green+','+rgb.blue+', 0)';rgba1='rgba('+rgb.red+','+rgb.green+','+rgb.blue+', 1)';}
var moz='-moz-linear-gradient(top, '+rgba0+' 0%, '+rgba1+' 100%)';var webkit1='-webkit-gradient(linear, left top, left bottom, color-stop(0%, '+rgba0+'), color-stop(100%, '+rgba1+'))';var webkit2='-webkit-linear-gradient(top, '+rgba0+' 0%, '+rgba1+'100%)';var o='-o-linear-gradient(top, '+rgba0+' 0%, '+rgba1+' 100%)';var ms='-ms-linear-gradient(top, '+rgba0+' 0%, '+rgba1+' 100%)';var general='linear-gradient(to bottom, '+rgba0+' 0%, '+rgba1+' 100%)';me._$moreblur.css({'background':'transparent'}).css({'background':moz}).css({'background':webkit1}).css({'background':webkit2}).css({'background':o}).css({'background':ms}).css({'background':general});}},isExpanded:function(node){return $(node).hasClass('vui-moreless-more');},Refresh:function(inColor){if(inColor!==null){this.BlurColor(inColor);}
this._fixMoreLess();}});})();(function(){'use strict';$.widget("vui.vui_scrollSpy",{options:{disabled:false},_create:function(){var me=this;var $spy=$(this.element);$spy.on('scroll',function(e){me._doSpy($spy,e);});$spy.on('resize',function(e){me._doSpy($spy,e);});$(document).on('touchmove',function(e){me._doSpy($spy,e);});$(document).on('MSPointerMove',function(e){me._doSpy($spy,e);});setTimeout(function(){me._doSpy($spy);},0);},_destroy:function(){var me=this;var $spy=$(this.element);$spy.off('scroll');$spy.off('resize');$(document).off('touchmove');$(document).off('MSPointerMove');$(this.element).find('.vui-scroll-point-visible').removeClass('vui-scroll-point-visible');},spy:function(){this._doSpy($(this.element));},_doSpy:function($spy,e){var me=this;var getSpyBoundaries=function(){var spyTop=$spy.scrollTop();var spyBottom=spyTop+$spy.height();return{top:spyTop,bottom:spyBottom};};var isWidgetBound=function(){return $spy.data('vui-vui_scrollSpy')!==undefined;};if(!isWidgetBound()){return;}
if($spy.vui_scrollSpy('option','disabled')){return;}
var scrollPoints=$spy.data('scrollPoints');if(!scrollPoints){return;}
var spyBoundaries=getSpyBoundaries();var doDelayedSpy=function($scrollPoint,isVisible){if(!isWidgetBound()||$spy.vui_scrollSpy('option','disabled')){return;}
setTimeout(function(){var newSpyBoundaries=getSpyBoundaries();if(!isWidgetBound()||$spy.vui_scrollSpy('option','disabled')){return;}
var args={'isVisible':isVisible,'event':e,'key':$scrollPoint.attr('data-spy-key'),'node':$scrollPoint.get(0)};if(!$scrollPoint.data('spy-isSpied')){$scrollPoint.data('spy-isSpied',true);$spy.trigger('vui-skim-spy',args);$scrollPoint.addClass('vui-scroll-point-skim-visible');}
if(me._isScrollPointBottomVisible(newSpyBoundaries,$scrollPoint)!==isVisible){return;}
if(isVisible&&$scrollPoint.hasClass('vui-scroll-point-visible')){return;}else if(!isVisible&&!$scrollPoint.hasClass('vui-scroll-point-visible')){return;}
args.isVisible=isVisible;if(isVisible){$scrollPoint.addClass('vui-scroll-point-visible');}else{$scrollPoint.removeClass('vui-scroll-point-visible');}
$spy.trigger('vui-spy',args);},$scrollPoint.data('spy-time'));};for(var i=scrollPoints.length-1;i>=0;--i){if(scrollPoints[i].closest('body').length===0){$spy.data('scrollPoints').splice(i,1);}else{var isBottomVisible=me._isScrollPointBottomVisible(spyBoundaries,scrollPoints[i]);if(isBottomVisible&&!scrollPoints[i].hasClass('vui-scroll-point-visible')){doDelayedSpy(scrollPoints[i],true);}else if(!isBottomVisible&&scrollPoints[i].hasClass('vui-scroll-point-visible')){doDelayedSpy(scrollPoints[i],false);}}}},isVisible:function(node){return $(node).hasClass('vui-scroll-point-visible');},_isScrollPointBottomVisible:function(spyBoundaries,$scrollPoint){var isVisible,spyBoundaryBottom,spyBoundaryBottomAdjustment,pointOffsetBottom=$scrollPoint.offset().top+$scrollPoint.height();spyBoundaryBottomAdjustment=(spyBoundaries.bottom-spyBoundaries.top);spyBoundaryBottom=spyBoundaries.top+spyBoundaryBottomAdjustment;isVisible=(pointOffsetBottom>=spyBoundaries.top&&pointOffsetBottom<=spyBoundaryBottom);return isVisible;},isScrollPointRegistered:function(node){var $spy=$(this.element);var scrollPoints=$spy.data('scrollPoints');if(scrollPoints===undefined||scrollPoints.length===0){return false;}
for(var i=0;scrollPoints[i];i++){if(scrollPoints[i].get(0)===node){return true;}}
return false;},registerScrollPoint:function(node){if(this.isScrollPointRegistered(node)){return;}
var $spy=$(this.element);var scrollPoints=$spy.data('scrollPoints');if(scrollPoints===undefined){scrollPoints=[];$spy.data('scrollPoints',scrollPoints);}
var $node=$(node);scrollPoints.push($node.data('spy-time',$node.attr('data-spy-time')!==undefined?parseInt($node.attr('data-spy-time'),10):3000));},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);if(key==='disabled'){this.options.disabled=value;if(value!==true){this._doSpy($(this.element));}}}});})();